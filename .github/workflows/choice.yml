name: Check

on:
  workflow_dispatch:
    inputs:
      ticket:
        type: string
        description: ⚠️ Fill in your ticket starting with 'CR-' or skip it by 'skip'.
        required: true

jobs:
  my-job:
    runs-on: ubuntu-latest
    steps:
    - name: Print ticket answer
      run: echo ${{ inputs.ticket }}
      
    - name: Is valid ticket
      run: echo ${{ startsWith(inputs.ticket, 'CR-') }}
      
    - name: Should skip
      run: echo ${{ contains(inputs.ticket, 'skip') }}
      
    - name: Is ticket OK?
      if: ${{ (!startsWith(inputs.ticket, 'CR-') && !contains(inputs.ticket, 'skip')) }}
      run: |
        echo "Given ticket number is not valid and you didn't wanted to skip that."
        exit 1
    
    - name: If ticket OK
      run: echo "Everything is OK then!"
